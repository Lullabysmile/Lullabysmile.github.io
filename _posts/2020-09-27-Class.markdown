---
layout:     post
title:      "Class"
subtitle:   " \"OOP.\""
date:       2020-09-27 16:08:13
author:     "yyttmonster"
header-img: "img/post-bg.jpg"
tags:
    - python


---

## Encoding declarations

如果一条注释位于 Python 脚本的**第一或第二行**，并且匹配正则表达式 `coding[=:]\s*([-\w.]+)`，这条注释会被作为编码声明来处理，如果它是在第二行，则第一行也必须是注释。若没有编码声明，`python2`默认编码为`ASCII`，`python3`默认编码为UTF-8。`encoding-name`可参考[Codec registry and base classes](https://docs.python.org/3/library/codecs.html)。

`# -*- coding: <encoding-name> -*-`

该编码声明代表的是**当前源码文件**的编码格式，Python词法分析将读取的程序文本转换为Unicode码点时会解析编码声明，若`encoding-name`非法则会引发`SyntaxError: encoding problem`。

## global and nonlocal statements

借鉴于[python语言参考](https://docs.python.org/zh-cn/3/reference/simple_stmts.html)、[Python Global, Local and Nonlocal variables](https://www.programiz.com/python-programming/global-local-nonlocal-variables)

`global`语句用于将列出的标识符解读为全局变量，它使得我们可以在一个局部`scope`去修改一个全局变量，否则我们在该`scope`可能仅能读取到该变量值而不能做修改。

```python
a = 1
def func():
    print(a)

func()
>>> 1


a = 1
def func():
    a += 1
    print(a)

func()
>>> UnboundLocalError: local variable 'a' referenced before assignment

    
a = 1
def func():
    global a
    a += 1
    print(a)

func()
print(a)
>>> 2
>>> 2
```
